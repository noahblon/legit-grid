
// CONFIG
$CONTAINER_WIDTH: 960; // in px, no units
$CONTAINER_GUTTER: 5%; // needs units: any units work, flex or fixed
$GUTTER_PIXEL_WIDTH: 20; // in px, no units

// HELPER FUNCTIONS & MIXINS
@function calcGutterPercentage($CONTAINER_WIDTH, $GUTTER_PIXEL_WIDTH) {
  $g: $GUTTER_PIXEL_WIDTH;
  $c: $CONTAINER_WIDTH;
  @return $g / ($c + $g) * 100%;
}

@mixin column-width($COL_PERCENTAGE) {
  $n: 1/$COL_PERCENTAGE;
  $g: calcGutterPercentage($CONTAINER_WIDTH, $GUTTER_PIXEL_WIDTH);
  width: (100% - ($n * $g)) / $n;
}

@mixin grid-margin-offset() {
  $g: calcGutterPercentage($CONTAINER_WIDTH, $GUTTER_PIXEL_WIDTH);
  margin-left: 100% * $g / (100% - $g) * -1;
}

@mixin gutter-margin() {
  $g: calcGutterPercentage($CONTAINER_WIDTH, $GUTTER_PIXEL_WIDTH);
  margin-left: $g;
} 


.container {
  max-width: $CONTAINER_WIDTH + px;
  min-width: 320px;
  padding: 0 $CONTAINER_GUTTER;
  box-sizing: border-box;
}

.grid {
  @include grid-margin-offset;
}

[class*='col-'] {
  display: inline-block;
  @include gutter-margin;
}

// CONFIGURE YOUR COLUMNS WITH THIS SIMPLE API
.col-1-2 { @include column-width(1/2); }
.col-1-3 { @include column-width(1/3); }
.col-1-4 { @include column-width(1/4); }
.col-1-5 { @include column-width(1/5); }
.col-1-6 { @include column-width(1/6); }
.col-1-7 { @include column-width(1/7); }
.col-1-8 { @include column-width(1/8); }
.col-1-9 { @include column-width(1/9); }
.col-1-10 { @include column-width(1/10); }
.col-1-11 { @include column-width(1/11); }
.col-1-12 { @include column-width(1/12); }
.col-1-13 { @include column-width(1/13); }
.col-1-14 { @include column-width(1/14); }
.col-1-15 { @include column-width(1/15); }
.col-1-16 { @include column-width(1/16); }

// Configuring odd column widths
.col-2-3 { @include column-width(2/3); }
.col-5-7 { @include column-width(5/7); }
.col-2-7 { @include column-width(2/7); }


.col-top {
  vertical-align: top;
}

.col-bottom {
  vertical-align: bottom;
}

@media screen and (max-width: 480px) {
  .grid > * {
    width: 100%;
  }
}
